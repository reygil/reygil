-<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoe Play</title>
     <link rel="stylesheet" href="css/normalize.css">
     <link rel="stylesheet" href="css/skeleton.css">
     <link rel="stylesheet" href="css/custom.css">
</head>
<body>
    
     <header id="header" class="header">
        <div class="container">
                        <div class="row">

                            </div class="two columns u-pull-right">
                                 <ul>
                                    <li class="submenu">
                                         <img src="img/carri.png" alt="" id="img-carri">
                                         <div id="carri">
                                             <table id="lista-carri" class="u-full-width">
                                                <thead>
                                                    <tr>
                                                    <th>Imagen</th>
                                                        <th>Nombre</th>
                                                        <th>Precio</th>
                                                        <th></th>
                                                    </tr>    
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                            <a href="#" id="vaciar-carrito" class="button u-full-width">Vaciar carrito</a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
<div class="row">
<div class="four columns">
<ul class="navct">
<li class="four columns"> <a href="#">Inicio</a> </li>
<li class="four columns"> <a href="#">Sobre</a> </li>
<li class="four columns"> <a href="#">Contacto</a> </li>
</ul>
</div>
</div>
</header>

<div id="hero">
<div class="container">
    <div class="row"></div>
<div class="six columns">
    <div  class="contenido-hero">
        <h2><i>Shoe Play </i></h2>
        <p>"Nos preocupamos en la comodidad de tu calzado"</p>
    <form action="#" id="Busqueda" method="post" class="formulario">
        <input class="u-full-widht" type="text" 
        placeholder="Que Decea Comprar"
        id="buscador"
        > 
    <input type="submit" id="submit-buscador" class="submit-buscador">
    </form>
    </div>
</div>
</div>
</div>
</div>
<div class="barra">
    <div class="container">
<div class=" row">
<div class="four colums icono icono">
<p> Los pares de zapatos mas usados <br>
    adquiere los tuyos
</p>
</div>
</div>
</div>
</div>

<div id="Lista-tenis" class="container">

<h1 id="encabezado" class="encabezado"> Pedidos en linea </h1>

<div class="row">

<div class="four columns">
<div class="card">
<img src="img/zapato.jpg" class="u-full-widht">
<div class="info-carri">
<h4>Alexander Mcqueen</h4>
    <p> Oversized Sneaker 
    In white/shock Pink
    </p>
    <img src="img/estrellas.jpg">
    <p class="precio">$9,499 <span class="u-pull right"></span></p>
    <a href="#"
    class="u-full-width button-primary button input agregar-carrito
    ">Agregar al Carrito</a>
    
</div>
</div>
    </div> 
    <div class="four columns">
        <div class="card">
        <img src="img/adi.jpg" class="u-full-widht">
        <div class="info-carri">
        <h4>Adidas</h4>
            <p> SUPERSTAR
                Cloud white/core,Black/Cloud White
            </p>
            <img src="img/estrellas.jpg">
            <p class="precio">$1,999<span class="u-pull right"></span></p>
            <a href="#"
            class="u-full-width button-primary button input agregar-carrito
            ">Agregar al Carrito</a>
            
        </div>
        </div>
        </div> 
        <div class="four columns">
            <div class="card">
            <img src="img/images (2).jpg" class="u-full-widht">
            <div class="info-carri">
            <h4>Adidas</h4>
                <p> RACER TR21 X
                    Core white 
                </p>
                <img src="img/estrellas.jpg">
                <p class="precio"> $1,899 <span class="u-pull right"></span></p>
                <a href="#"
                class="u-full-width button-primary button input agregar-carrito
                ">Agregar al Carrito</a>
                
            </div>
            </div>
            </div> 
            <div class="four columns">
                <div class="card">
                <img src="img/conver.jpg" class="u-full-widht">
                <div class="info-carri">
                <h4>Converse</h4>
                    <p> Chuck 70 
                        choclo de lona negro
                    </p>
                    <img src="img/estrellas.jpg">
                    <p class="precio">$1,299<span class="u-pull right"></span></p>
                    <a href="#"
                    class="u-full-width button-primary button input agregar-carrito
                    ">Agregar al Carrito</a>
                    
                </div>
                </div>
                </div> 
                <div class="four columns">
                    <div class="card">
                    <img src="img/conserse.jpg" class="u-full-widht">
                    <div class="info-carri">
                    <h4>Converse</h4>
                        <p> Chuck 70
                            choclo de lona blanco
                        </p>
                        <img src="img/estrellas.jpg">
                        <p class="precio">$1,299 <span class="u-pull right"></span></p>
                        <a href="#"
                        class="u-full-width button-primary button input agregar-carrito
                        ">Agregar al Carrito</a>
                        
                    </div>
                    </div>
                    </div> 
                    <div class="four columns">
                        <div class="card">
                        <img src="img/images (3).jpg" class="u-full-widht">
                        <div class="info-carri">
                        <h4>Converse</h4>
                            <p> Weapon cx en 
                                Media Bota de Piel Blanco
                            </p>
                            <img src="img/estrellas.jpg">
                            <p class="precio">$3,299 <span class="u-pull right"></span></p>
                            <a href="#"
                            class="u-full-width button-primary button input agregar-carrito
                            ">Agregar al Carrito</a>
                            
                        </div>
                        </div>
                        </div> 
                        <div class="four columns">
                            <div class="card">
                            <img src="img/imagen.jpg" class="u-full-widht">
                            <div class="info-carri">
                            <h4>Converse</h4>
                                <p> Chuck Taylor All
                                    Star EVA lift en bota de lona negro
                                </p>
                                <img src="img/estrellas.jpg">
                                <p class="precio">$1,599<span class="u-pull right"></span></p>
                                <a href="#"
                                class="u-full-width button-primary button input agregar-carrito
                                ">Agregar al Carrito</a>
                                
                            </div>
                            </div>
                            </div> 
                            <div class="four columns">
                                <div class="card">
                                <img src="img/descarga.jpg" class="u-full-widht">
                                <div class="info-carri">
                                <h4>Nike</h4>
                                    <p> Nike Air Force 1 
                                        07 Blanco
                                    </p>
                                    <img src="img/estrellas.jpg">
                                    <p class="precio">$2,299 <span class="u-pull right"></span></p>
                                    <a href="#"
                                    class="u-full-width button-primary button input agregar-carrito
                                    ">Agregar al Carrito</a>
                                    
                                </div>
                                </div>
                                </div> 
                                <div class="four columns">
                                    <div class="card">
                                    <img src="img/images (4).jpg" class="u-full-widht">
                                    <div class="info-carri">
                                    <h4>Nike</h4>
                                        <p> Nike Air Force 1 
                                            07 Negro
                                        </p>
                                        <img src="img/estrellas.jpg">
                                        <p class="precio">$2,299 <span class="u-pull right"></span></p>
                                        <a href="#"
                                        class="u-full-width button-primary button input agregar-carrito
                                        ">Agregar al Carrito</a>
                                        
                                    </div>
                                    </div>
                                    </div> 
                                    <div class="four columns">
                                        <div class="card">
                                        <img src="img/descarga (1).jpg" class="u-full-widht">
                                        <div class="info-carri">
                                        <h4>Nike</h4>
                                            <p> Nike Renew Run 2 
                                                Rosa
                                            </p>
                                            <img src="img/estrellas.jpg">
                                            <p class="precio">$1,849 <span class="u-pull right"></span></p>
                                            <a href="#"
                                            class="u-full-width button-primary button input agregar-carrito
                                            ">Agregar al Carrito</a>
                                            
                                        </div>
                                        </div>
                                        </div> 
                                        <div class="four columns">
                                            <div class="card">
                                            <img src="img/zapatos.jpg" class="u-full-widht">
                                            <div class="info-carri">
                                            <h4>Nike</h4>
                                                <p> Nike Air Max
                                                    Rojos
                                                </p>
                                                <img src="img/estrellas.jpg">
                                                <p class="precio">$3,199 <span class="u-pull right"></span></p>
                                                <a href="#"
                                                class="u-full-width button-primary button input agregar-carrito
                                                ">Agregar al Carrito</a>
                                                
                                            </div>
                                            </div>
                                            </div> 
                                            <div class="four columns">
                                                <div class="card">
                                                <img src="img/Air Jordan Retro.jpg" class="u-full-widht">
                                                <div class="info-carri">
                                                <h4>Jordan</h4>
                                                    <p> Jordan 1 Mid 
                                                        Chicago 
                                                    </p>
                                                    <img src="img/estrellas.jpg">
                                                    <p class="precio">$3,999<span class="u-pull right"></span></p>
                                                    <a href="#"
                                                    class="u-full-width button-primary button input agregar-carrito
                                                    ">Agregar al Carrito</a>
                                                    
                                                </div>
                                                </div>
                                                </div> 
                                                <div class="four columns">
                                                    <div class="card">
                                                    <img src="img/teniu.jpg" class="u-full-widht">
                                                    <div class="info-carri">
                                                    <h4>Jordan</h4>
                                                        <p> Jordan 4 retro 
                                                            negro
                                                        </p>
                                                        <img src="img/estrellas.jpg">
                                                        <p class="precio">$11,999 <span class="u-pull right"></span></p>
                                                        <a href="#"
                                                        class="u-full-width button-primary button input agregar-carrito
                                                        ">Agregar al Carrito</a>
                                                        
                                                    </div>
                                                    </div>
                                                    </div> 
                                                    <div class="four columns">
                                                        <div class="card">
                                                        <img src="img/puma.jpg" class="u-full-widht">
                                                        <div class="info-carri">
                                                        <h4>Puma</h4>
                                                            <p> Roma Basic 
                                                                black-white-puma
                                                            </p>
                                                            <img src="img/estrellas.jpg">
                                                            <p class="precio">$1,799 <span class="u-pull right"></span></p>
                                                            <a href="#"
                                                            class="u-full-width button-primary button input agregar-carrito
                                                            ">Agregar al Carrito</a>
                                                            
                                                        </div>
                                                        </div>
                                                        </div> 
                                                        <div class="four columns">
                                                            <div class="card">
                                                            <img src="img/pumaa.jpg" class="u-full-widht">
                                                            <div class="info-carri">
                                                            <h4>Puma</h4>
                                                                <p> X-Ray Puma White-puma Black-Dark
                                                                </p>
                                                                <img src="img/estrellas.jpg">
                                                                <p class="precio">2,999<span class="u-pull right"></span></p>
                                                                <a href="#"
                                                                class="u-full-width button-primary button input agregar-carrito
                                                                ">Agregar al Carrito</a>
                                                                
                                                            </div>
                                                            </div>
                                                            </div> 
                                                            <div class="four columns">
                                                                <div class="card">
                                                                <img src="img/descarga (2).jpg" class="u-full-widht">
                                                                <div class="info-carri">
                                                                <h4>Puma</h4>
                                                                    <p>Mayse Crystal 
                                                                        Galaxy Puma white  
                                                                    </p>
                                                                    <img src="img/estrellas.jpg">
                                                                    <p class="precio">$2,499 <span class="u-pull right"></span></p>
                                                                    <a href="#"
                                                                    class="u-full-width button-primary button input agregar-carrito
                                                                    ">Agregar al Carrito</a>
                                                                    
                                                                </div>
                                                                </div>
                                                                </div> 
</div><!--,row-->
                
</div>
<footer id="footer" class="footer">
<div class="container">
<div class="row">
   <div class="four columns">
<nav id="Principal" class="Catalogo">
<a class="enlace" href="#">Para Negocio</a>
<a class="enlace" href="#">Conviertete en socio</a>
<a class="enlace" href="#">Aplicación Movil</a>
<a class="enlace" href="#">Preferidos</a>
</nav>
    </div>
    <div class="four columns">
        <nav id="Secundario" class="Catalogo">
        <a class="enlace" href="#">¿Quienes somos?</a>
        <a class="enlace" href="#">Empleo</a>
        </nav>
    </div>
</div>
</div>
</div>
</footer>

<script src="js/app.js"></script>
</body>
</html>
body {
    background-color: rgb(0, 0, 0);
}
h1{
    text-align: center;
    color: white;
}
h4{
    font-size: 16px;
    font-weight: 700;
}
header{
    padding: 10px 0 0 0;
    text-align: center;
}
.navct {
    color: rgb(240, 127, 52);
    padding-top: 5px; 
    text-transform: uppercase;

}
.navct a{
    color:white;
    text-decoration: none;
}
@media (min-whidth: 750px){
    header{
        text-align: left;
    }
}

ul{
    list-style: none;
}
#hero {
    background-image: url(../img/tiendaa.jpg);
    position: relative;
    z-index: 0;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    height: 200px;
}
#hero::before{
    content: "";
    background-color: rgba(184, 102, 35, 0.45);
    position:absolute;
    top: 0;
    min-height: 100%;
    left: 0;
    right: 0;
    z-index: -1;
}
 #encabezado {
    margin: 30px 0;
 } 
 .submenu {
    position: relative;
 }
 .submenu #carri {
    display: none;
 }

 .submenu:hover #carri {
    display: block;
    position: absolute;
    right: 0;
    color: white;
    top: 100%;
    z-index: 1;
    background-color: rgb(34, 28, 32);
    padding: 20px;
    min-height: 400px;
    min-height: 300px;
 }
.barra {
        padding: 10px 0;
        background: #f0611e;
    }
    
    #lista-tenis .row {
        margin-bottom: 20px;
    }
    .agregar-carrito {
        margin: 10px;
    }

    .carri {
        text-align: center;
        box-shadow: 0 25px 98px 0 rgb(0 0 0/3%);
        background: #ffff;
    }
    @media (min-width: 550px) {
        .carri {
            text-align: left;
        }
    }
    .info-carri {
        padding: 10px 20px;
        color: white;
    }
    .info-carri p,
    .carri h4{
        margin-bottom: 5px;
    }
    .info-carri .precio {
        text-decoration: line-through;
        font-size: 18px;
        margin-top:10px;
    }
    .info-carri .precio span{
        font-weight: 700;
        font-size: 22px;
    }

    .footer {
        border-top: 1px solid white;
        margin-top: 40px;
        padding-top: 40px;
    }

    .footer .catalogo a{
        display: block;
        color: white;
        margin-bottom: 1078px;
        text-decoration: none;

    }
    // Variables
const baseDeDatos = [
    {
        id: 1,
        nombre: 'Alexander Mcqueen',
        precio: $9499,
        imagen: 'zapato.jpg'
    },
    {
        id: 2,
        nombre: 'Adidas',
        precio: $1999,
        imagen: 'adi.jpg'
    },
    {
        id: 3,
        nombre: 'Adidas',
        precio: $1899,
        imagen: 'images (2).jpg'
    },
    {
        id: 4,
        nombre: 'Converse',
        precio: $1299,
        imagen: 'conver.jpg'
    }

];

let carrito = [];
const divisa = '€';
const DOMitems = document.querySelector('#items');
const DOMcarrito = document.querySelector('#carrito');
const DOMtotal = document.querySelector('#total');
const DOMbotonVaciar = document.querySelector('#boton-vaciar');

// Funciones

/**
 * Dibuja todos los productos a partir de la base de datos. No confundir con el carrito
 */
function renderizarProductos() {
    baseDeDatos.forEach((info) => {
        // Estructura
        const miNodo = document.createElement('div');
        miNodo.classList.add('card', 'col-sm-4');
        // Body
        const miNodoCardBody = document.createElement('div');
        miNodoCardBody.classList.add('card-body');
        // Nombre
        const miNodoNombre = document.createElement('h4');
        miNodoNombre.classList.add('card-+Nombre');
        miNodoNombre.textContent = info.nombre;
        // Imagen
        const miNodoImagen = document.createElement('img');
        miNodoImagen.classList.add('img-fluid');
        miNodoImagen.setAttribute('src', info.imagen);
        // Precio
        const miNodoPrecio = document.createElement('p');
        miNodoPrecio.classList.add('card-text');
        miNodoPrecio.textContent = `${info.precio}${divisa}`;
        // Boton 
        const miNodoBoton = document.createElement('button');
        miNodoBoton.classList.add('btn', 'btn-primary');
        miNodoBoton.textContent = '+';
        miNodoBoton.setAttribute('marcador', info.id);
        miNodoBoton.addEventListener('click', agregaralcarrito);
        // Insertamos
        miNodoCardBody.appendChild(miNodoImagen);
        miNodoCardBody.appendChild(miNodoNombre);
        miNodoCardBody.appendChild(miNodoPrecio);
        miNodoCardBody.appendChild(miNodoBoton);
        miNodo.appendChild(miNodoCardBody);
        DOMitems.appendChild(miNodo);
    });
}

/**
 * Evento para añadir un producto al carrito de la compra
 */
function anyadirProductoAlCarrito(evento) {
    // Anyadimos el Nodo a nuestro carrito
    carrito.push(evento.target.getAttribute('marcador'))
    // Actualizamos el carrito 
    renderizarCarrito();

}

/**
 * Dibuja todos los productos guardados en el carrito
 */
function renderizarCarrito() {
    // Vaciamos todo el html
    DOMcarrito.textContent = '';
    // Quitamos los duplicados
    const carritoSinDuplicados = [...new Set(carrito)];
    // Generamos los Nodos a partir de carrito
    carritoSinDuplicados.forEach((item) => {
        // Obtenemos el item que necesitamos de la variable base de datos
        const miItem = baseDeDatos.filter((itemBaseDatos) => {
            // ¿Coincide las id? Solo puede existir un caso
            return itemBaseDatos.id === parseInt(item);
        });
        // Cuenta el número de veces que se repite el producto
        const numeroUnidadesItem = carrito.reduce((total, itemId) => {
            // ¿Coincide las id? Incremento el contador, en caso contrario no mantengo
            return itemId === item ? total += 1 : total;
        }, 0);
        // Creamos el nodo del item del carrito
        const miNodo = document.createElement('li');
        miNodo.classList.add('list-group-item', 'text-right', 'mx-2');
        miNodo.textContent = `${numeroUnidadesItem} x ${miItem[0].nombre} - ${miItem[0].precio}${divisa}`;
        // Boton de borrar
        const miBoton = document.createElement('button');
        miBoton.classList.add('btn', 'btn-danger', 'mx-5');
        miBoton.textContent = 'X';
        miBoton.style.marginLeft = '1rem';
        miBoton.dataset.item = item;
        miBoton.addEventListener('click', borrarItemCarrito);
        // Mezclamos nodos
        miNodo.appendChild(miBoton);
        DOMcarrito.appendChild(miNodo);
    });
    // Renderizamos el precio total en el HTML
    DOMtotal.textContent = calcularTotal();
}

/**
 * Evento para borrar un elemento del carrito
 */
function borrarItemCarrito(evento) {
    // Obtenemos el producto ID que hay en el boton pulsado
    const id = evento.target.dataset.item;
    // Borramos todos los productos
    carrito = carrito.filter((carritoId) => {
        return carritoId !== id;
    });
    // volvemos a renderizar
    renderizarCarrito();
}

/**
 * Calcula el precio total teniendo en cuenta los productos repetidos
 */
function calcularTotal() {
    // Recorremos el array del carrito 
    return carrito.reduce((total, item) => {
        // De cada elemento obtenemos su precio
        const miItem = baseDeDatos.filter((itemBaseDatos) => {
            return itemBaseDatos.id === parseInt(item);
        });
        // Los sumamos al total
        return total + miItem[0].precio;
    }, 0).toFixed(2);
}

/**
 * Varia el carrito y vuelve a dibujarlo
 */
function vaciarCarrito() {
    // Limpiamos los productos guardados
    carrito = [];
    // Renderizamos los cambios
    renderizarCarrito();
}

// Eventos
DOMbotonVaciar.addEventListener('click', vaciarCarrito);

// Inicio
renderizarProductos();
renderizarCarrito();
